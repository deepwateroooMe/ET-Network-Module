#+latex_class: cn-article
#+title: ET-EUI 服务器 + 当前客户端（作为与服务器的网络交互部分）
#+author: deepwaterooo 

* 昨天晚上运行的时候，出一个错
- 客户端发Ping 到服务器，服务器返回一个时间消息
- 客户端再接收 OnAccept() 或是 OnReceive() 的时候，抛出了一个底层的异常
- 这个Ping 消息比较特殊，既是外网消息，但又只有一个 rpcID. 跳过了这个，便没有消息内容了。感觉原因可能是这个
** 这里主要是读的时候， Loom Update() 的时候 TChannel 抛异常
- 服务器端： 
  
[[./pic/readme_20230307_082738.png]]
- 客户端： 
  
[[./pic/readme_20230307_082732.png]]
* 原因 
- 运行看了下，这里更多的是说，登录消息发送的时候，因为系统底层 protobuf 生成消息时因为某些原因不能
- 所以，去找编辑器 protobuf 相关的命令逻辑，把这部分理顺
- 当使用这个项目自带的小服务器端，可以运行得通。但直接与ET-EUI 通信，会出问题，可以简单理解为：客户端的通信消息，服务器端没见过不懂不认
- 比较一个当前项目小服务器，与ET-EUI 的服务器端有什么不同，主要是 protobuf 消息定义通信相关的，应该就狠容易更正了。